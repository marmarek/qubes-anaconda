From cccf0ff9b51d71ea6d5cb4e10934252f3d8542c3 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Fr=C3=A9d=C3=A9ric=20Pierret=20=28fepitre=29?=
 <frederic.pierret@qubes-os.org>
Date: Sun, 3 Feb 2019 18:42:36 +0100
Subject: [PATCH] Set default hostname to 'dom0'

---
 pyanaconda/installclasses/qubes.py | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/pyanaconda/installclasses/qubes.py b/pyanaconda/installclasses/qubes.py
index 84afaf046..e22099c3c 100644
--- a/pyanaconda/installclasses/qubes.py
+++ b/pyanaconda/installclasses/qubes.py
@@ -18,6 +18,7 @@
 #
 
 from pyanaconda.installclass import BaseInstallClass
+from pyanaconda.modules.common.constants.services import NETWORK
 from pyanaconda.product import *
 from pyanaconda.core.i18n import N_
 import pyanaconda.platform
@@ -51,6 +52,10 @@ class InstallClass(BaseInstallClass):
         BaseInstallClass.configure(self, anaconda)
         self.setDefaultPartitioning(anaconda.storage)
 
+        # Default Hostname
+        network_proxy = NETWORK.get_proxy()
+        network_proxy.SetHostname('dom0')
+
     def setDefaultPartitioning(self, storage):
         BaseInstallClass.setDefaultPartitioning(self, storage)
         for autoreq in storage.autopart_requests:
-- 
2.17.2

